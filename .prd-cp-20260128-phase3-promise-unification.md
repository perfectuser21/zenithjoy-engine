---
id: prd-phase3-promise-unification
version: 1.0.0
created: 2026-01-28
updated: 2026-01-28
changelog:
  - 1.0.0: 初始版本
---

# PRD: Phase 3 Promise 信号统一

Priority: P2
Type: Hotfix
Scope: docs/

## 问题描述

当前文档中存在多种不同的 completion-promise 信号：

| 信号 | 使用位置 | 问题 |
|------|----------|------|
| `DONE` | skills/dev/SKILL.md | ✅ 标准信号 |
| `QUALITY_GATE_PASSED` | docs/RALPH-LOOP-INTERCEPTION.md, docs/CONTRADICTION_ANALYSIS.md, docs/FIX_PLAN.md | ❌ 旧信号 |
| `CI_PASSED` | docs/RALPH-LOOP-INTERCEPTION.md, skills/dev/steps/09-ci.md | ❌ 旧信号 |

CHANGELOG.md v10.13.0 已经声明 "完成信号统一为 DONE"，但部分文档未同步更新。

## 解决方案

统一所有 completion-promise 信号为 `DONE`：

1. **删除过时文档**（使用 QUALITY_GATE_PASSED/CI_PASSED 的）：
   - docs/RALPH-LOOP-INTERCEPTION.md → 移入 .archive/
   - docs/CONTRADICTION_ANALYSIS.md → 移入 .archive/
   - docs/FIX_PLAN.md → 移入 .archive/
   - docs/.archive/COMPLETE-WORKFLOW-WITH-RALPH.md → 已在 archive

2. **更新 Step 09 文档**：
   - skills/dev/steps/09-ci.md → 移除 CI_PASSED，使用 DONE

3. **更新 Step 08 文档**：
   - skills/dev/steps/08-pr.md → 移除 QUALITY_GATE_PASSED，使用 DONE

4. **验证 SKILL.md 一致性**：
   - skills/dev/SKILL.md 已正确使用 DONE

## 验收标准

- [ ] 所有文档仅使用 `DONE` 作为 completion-promise
- [ ] 过时文档移入 .archive/
- [ ] 测试通过

## 风险评估

- 风险等级：低
- 影响范围：仅文档变更，不影响代码逻辑
- 回滚方案：git revert
