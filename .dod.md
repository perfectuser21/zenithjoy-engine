# Definition of Done (DoD)

QA: docs/QA-DECISION.md

## 功能完成

- [x] detect-phase.sh 脚本创建完成
  Test: manual:script-created
  Evidence: `S1`

- [x] 脚本能正确检测 p0 阶段（无 PR）
  Test: manual:p0-detection
  Evidence: `S2`

- [x] 脚本能正确检测 p1 阶段（PR + CI fail）
  Test: manual:p1-detection
  Evidence: `S3`

- [x] 脚本能正确检测 p2 阶段（PR + CI pass）
  Test: manual:p2-detection
  Evidence: `S4`

- [x] 脚本能正确检测 pending 阶段（PR + CI pending）
  Test: manual:pending-detection
  Evidence: `S5`

- [x] 脚本能正确处理 gh API 错误返回 unknown
  Test: manual:unknown-handling
  Evidence: `S6`

- [x] Stop Hook 能成功调用脚本不再报错
  Test: manual:stop-hook-integration
  Evidence: `S7`

- [x] 输出格式符合规范（PHASE: xxx / DESCRIPTION: xxx / ACTION: xxx）
  Test: manual:output-format
  Evidence: `S8`

## 文档完成

- [x] PHASE-DETECTION.md 文档创建完成
  Test: manual:doc-created
  Evidence: `S9`

## 质检通过

- [x] L2A: Audit 审计通过（Decision: PASS）
  Test: manual:audit-pass
  Evidence: `C1`

- [x] L1: 自动化测试通过（typecheck + test + build）
  Test: contract:C2-001
  Evidence: `C2`

## RCI 更新

- [x] 新增 RCI: W1-004 (detect-phase.sh 存在性检查)
  Test: manual:rci-added
  Evidence: `S10`
