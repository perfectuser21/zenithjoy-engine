---
id: prd-phase5-critical-cleanup
version: 1.0.0
created: 2026-01-28
updated: 2026-01-28
changelog:
  - 1.0.0: 初始版本
---

# PRD: Phase 5 关键问题清理

Priority: P0
Type: Hotfix
Scope: contracts/, hooks/, scripts/, features/

## 问题描述

深度扫描发现多个关键问题：

1. **重复的 regression-contract.yaml** - contracts/ 目录版本 10.11.0，根目录版本 11.2.8
2. **引用不存在的文件** - H7 Stop Hook 引用 hooks/stop.sh（不存在）
3. **feature-registry.yml 引用不存在的脚本** - detect-phase.sh

## 解决方案

1. 删除 contracts/ 目录（只保留根目录的 regression-contract.yaml）
2. 更新 feature-registry.yml 中 H7 的状态为 Deprecated
3. 清理引用不存在文件的条目

## 验收标准

- [ ] contracts/ 目录已删除
- [ ] H7 标记为 Deprecated
- [ ] 无引用不存在文件的条目
- [ ] 测试通过

## 风险评估

- 风险等级：低
- 影响范围：删除冗余文件，更新状态
- 回滚方案：git revert
