## DoD - Gate 循环模式 B 优化

QA: docs/QA-DECISION-cp-gate-mode-b-optimization.md

## 验收标准

### 功能验收

- [ ] 所有 Gate 规则文件包含"只审核"说明
  - dod.md Subagent Prompt 添加"不修改"警告
  - test.md Subagent Prompt 添加"不修改"警告
  - audit.md Subagent Prompt 添加"不修改"警告
  - qa.md 新建完整的审核标准文件
  - learning.md 新建完整的审核标准文件
  Test: manual:GATE-MODE-B-01

- [ ] 所有步骤文件包含循环控制代码
  - 01-prd.md 有完整的 while 循环 + MAX_GATE_ATTEMPTS 检查
  - 04-dod.md 有 gate:dod 和 gate:qa 的循环控制
  - 05-code.md 有 gate:audit 的循环控制
  - 06-test.md 有 gate:test 的循环控制
  - 10-learning.md 有 gate:learning 的循环控制
  Test: manual:GATE-MODE-B-02

- [ ] generate-gate-file.sh 支持所有 6 种 gate
  - 第 29 行正则包含 `prd|dod|test|audit|qa|learning`
  Test: tests/gate/generate-gate-file.test.ts

- [ ] 决策分析文档完整
  - docs/GATE-LOOP-MODE-ANALYSIS.md 包含 10 维度分析
  - 包含决策矩阵（4.85 vs 2.05 分）
  - 包含 5 个实际场景模拟
  Test: manual:GATE-MODE-B-03

- [ ] qa.md 和 learning.md 规则文件符合标准
  - 包含触发时机、审核标准、Subagent Prompt 模板
  - 包含 PASS/FAIL 条件
  - 格式与其他 gate 文件一致
  Test: manual:GATE-MODE-B-04

### 非功能验收

- [ ] 所有修改的文件格式正确（Markdown 语法无误）
  Test: manual:FORMAT-CHECK

- [ ] 所有新建的文件符合项目命名规范
  Test: manual:NAMING-CHECK

- [ ] 文档交叉引用正确（无死链接）
  Test: manual:LINK-CHECK
