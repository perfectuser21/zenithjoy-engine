---
id: prd-gate-skill
version: 1.0.0
created: 2026-01-30
updated: 2026-01-30
changelog:
  - 1.0.0: 初始版本
---

# PRD: Gate Skill 家族 - 独立质量审核

## 需求来源

当前 /dev 流程的质量检查存在漏洞：
- PRD/DoD/QA/Audit 可以写空壳文件应付检查
- CI 只检查文件存在，不检查内容质量
- 主 Agent 自己写、自己检查 = 自己给自己打分

需要引入独立的"守门 Subagent"来做验收。

## 功能描述

创建 `/gate` skill 家族，每个 gate 是独立审核员：

| Gate | 触发时机 | 检查内容 |
|------|---------|---------|
| `/gate:prd` | Step 1 后 | PRD 完整性、需求可验收性 |
| `/gate:dod` | Step 4 后 | PRD↔DoD 覆盖率、Test 映射有效性 |
| `/gate:test` | Step 6 后 | 测试↔DoD 覆盖率、边界用例 |
| `/gate:audit` | Step 7 后 | 审计证据真实性 |

## 成功标准

1. 每个 gate 能独立审核对应产物
2. FAIL 时返回具体问题和修复要求
3. 主 agent 必须修到 PASS 才能继续
4. 审核结果结构化输出（Decision + Findings + Required Fixes）

## 技术方案

1. 创建 `skills/gate/SKILL.md` - 入口文件
2. 创建 `skills/gate/gates/*.md` - 每个 gate 的审核标准
3. 每个 gate 通过 Task tool 启动 Subagent 执行审核
4. 修改 `/dev` 流程，在关键步骤后调用对应 gate

## 影响范围

- 新增 `skills/gate/` 目录
- 修改 `skills/dev/steps/01-prd.md` - 加 gate:prd
- 修改 `skills/dev/steps/04-dod.md` - 加 gate:dod
- 修改 `skills/dev/steps/06-test.md` - 加 gate:test
- 修改 `skills/dev/steps/07-quality.md` - 加 gate:audit

## 非目标

- 不做 gate:code（B档，后续再加）
- 不修改 CI（gate 是本地审核，CI 保持不变）
