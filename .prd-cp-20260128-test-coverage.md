---
id: prd-test-coverage
version: 1.0.0
created: 2026-01-28
updated: 2026-01-28
changelog:
  - 1.0.0: 初始版本
---

# PRD: 测试覆盖率提升 Phase 1

## 背景

深度代码审计发现测试覆盖率仅 19%（8/42 脚本），关键脚本缺乏测试。

## 目标

为最关键的脚本添加基础测试：
1. track.sh - 核心状态跟踪
2. worktree-manage.sh - 工作树管理（含 safe_rm_rf）

## 范围

- 只添加核心功能测试
- 不追求 100% 覆盖
- 专注于关键路径和边界情况

## 验收标准

- [ ] track.sh 基础测试通过
- [ ] worktree-manage.sh safe_rm_rf 测试通过
- [ ] npm test 全部通过
