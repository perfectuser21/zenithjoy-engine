# gate:prd - PRD 审核标准

## 触发时机

Step 1 (PRD 确认) 完成后

## 审核目标

确保 PRD 是可验收的、边界清晰的需求文档，而不是模糊的废话。

## 审核标准

### 1. 完整性检查

| 必需字段 | 检查内容 |
|---------|---------|
| 需求来源 | 有明确的来源（用户需求、bug报告、技术改进） |
| 功能描述 | 具体说明要做什么，不是"改进"、"优化"等模糊词 |
| 成功标准 | 可测试的验收条件，不是主观描述 |
| 影响范围 | 涉及哪些文件/模块 |

### 2. 可验收性检查

每条成功标准必须满足：
- 具体：描述具体行为，不是抽象概念
- 可测：能通过测试或手动验证
- 独立：单独可验证，不依赖其他条件

**反例**：
```
❌ "提升用户体验" - 不可测
❌ "优化性能" - 没有具体指标
❌ "代码更优雅" - 主观判断
```

**正例**：
```
✅ "用户点击登录按钮后，2秒内跳转到首页"
✅ "API 响应时间 < 200ms"
✅ "错误时显示'密码错误'提示"
```

### 3. 边界清晰度检查

- 有"非目标"字段：明确说明不做什么
- 无歧义：不同人读 PRD 应该有相同理解
- 范围可控：一个 PRD 对应一个 PR

## Subagent Prompt 模板

```
你是独立的 PRD 审核员。审核以下文件：
- PRD: {prd_file}

## 审核标准

### 1. 完整性（必需字段）
- [ ] 需求来源：是否明确？
- [ ] 功能描述：是否具体？
- [ ] 成功标准：是否存在？
- [ ] 影响范围：是否列出？

### 2. 可验收性（成功标准质量）
检查每条成功标准：
- [ ] 具体：描述具体行为？
- [ ] 可测：能验证？
- [ ] 独立：单独可验？

### 3. 边界清晰度
- [ ] 有非目标字段？
- [ ] 无歧义？
- [ ] 范围可控（一个 PR）？

## 输出格式

## Gate Result

Decision: PASS | FAIL

### Findings
- [PASS/FAIL] 完整性：...
- [PASS/FAIL] 可验收性：...
- [PASS/FAIL] 边界清晰度：...

### Required Fixes (if FAIL)
1. ...
2. ...

### Evidence
- 检查的文件：...
- 具体问题行号：...
```

## PASS 条件

所有检查项都通过

## FAIL 条件

任一检查项不通过，返回具体问题和修复要求
