---
name: dev
description: |
  ç»Ÿä¸€å¼€å‘å·¥ä½œæµå…¥å£ã€‚ä¸€ä¸ªå¯¹è¯å®Œæˆæ•´ä¸ªå¼€å‘æµç¨‹ã€‚
  çº¯ git æ£€æµ‹ï¼Œä¸éœ€è¦çŠ¶æ€æ–‡ä»¶ã€‚

  è§¦å‘æ¡ä»¶ï¼š
  - ç”¨æˆ·è¯´ä»»ä½•å¼€å‘ç›¸å…³çš„éœ€æ±‚
  - ç”¨æˆ·è¯´ /dev
  - Hook è¾“å‡º [SKILL_REQUIRED: dev]ï¼ˆè¢« branch-protect.sh é˜»æ­¢æ—¶ï¼‰
---

# /dev - ç»Ÿä¸€å¼€å‘å·¥ä½œæµ

## ç»Ÿä¸€æ¸…å•

> **æ ‡è®°è¯´æ˜**
> - `â–¡` = å¿…é¡»å®Œæˆ
> - `â–¡â­` = å¿«é€Ÿä¿®å¤å¯è·³è¿‡
> - `â—‹` = å¯é€‰

```
å‡†å¤‡é˜¶æ®µ (Step 0)
  â–¡ ä¾èµ–æ£€æŸ¥

åˆ›å»ºé˜¶æ®µ (Step 1-2)
  â–¡ æ£€æµ‹å½“å‰åˆ†æ”¯ç±»å‹
  â–¡ åˆ›å»º cp-* åˆ†æ”¯
  â–¡â­ ä¿å­˜ base åˆ†æ”¯åˆ° git config

å¼€å‘é˜¶æ®µ (Step 2.5-4)
  â–¡â­ ä¸Šä¸‹æ–‡å›é¡¾
  â–¡â­ PRD ç¡®è®¤
  â–¡â­ DoD ç¡®è®¤
  â–¡ ä»£ç ç¼–å†™
  â–¡ è‡ªæµ‹é€šè¿‡

æäº¤é˜¶æ®µ (Step 5)
  â–¡â­ ä¼šè¯æ¢å¤æ£€æµ‹
  â–¡ ç‰ˆæœ¬å·æ›´æ–°ï¼ˆsemverï¼‰
  â–¡ git commit
  â–¡ git push
  â–¡ PR åˆ›å»º
  â–¡ CI é€šè¿‡
  â–¡ PR åˆå¹¶

æ¸…ç†é˜¶æ®µ (Step 6)
  â–¡ æ¸…ç† git config
  â–¡ åˆ‡å› feature åˆ†æ”¯
  â–¡ git pull
  â–¡ åˆ é™¤æœ¬åœ° cp-* åˆ†æ”¯
  â–¡ åˆ é™¤è¿œç¨‹ cp-* åˆ†æ”¯
  â–¡ æ¸…ç† stale è¿œç¨‹å¼•ç”¨

æ€»ç»“é˜¶æ®µ (Step 7)
  â—‹ Engine Learn
  â—‹ é¡¹ç›® Learn
```

**å®Œæˆæ ‡å‡†**ï¼šæ‰€æœ‰ `â–¡` å¿…é¡»å®Œæˆã€‚å¿«é€Ÿä¿®å¤è·³è¿‡ `â–¡â­`ï¼Œ`â—‹` å§‹ç»ˆå¯é€‰ã€‚

**ç‰ˆæœ¬å·è§„åˆ™ (semver)**ï¼š
- `fix:` â†’ patch (+0.0.1)
- `feat:` â†’ minor (+0.1.0)
- `feat!:` æˆ– `BREAKING CHANGE:` â†’ major (+1.0.0)

---

## å¿«é€Ÿä¿®å¤æ¨¡å¼

**é€‚ç”¨æ¡ä»¶**ï¼ˆå…¨éƒ¨æ»¡è¶³ï¼‰ï¼š
- `fix:` ç±»å‹ä¿®å¤
- å•æ–‡ä»¶æˆ–å°‘é‡æ”¹åŠ¨
- éœ€æ±‚æ˜ç¡®ï¼Œç”¨æˆ·å·²ç¡®è®¤
- ä¸æ¶‰åŠæ¶æ„å†³ç­–

**æ‰§è¡Œ**ï¼šè·³è¿‡æ‰€æœ‰ `â–¡â­` æ ‡è®°é¡¹ã€‚

---

## æ ¸å¿ƒè§„åˆ™

1. **æ°¸è¿œä¸åœ¨ main ä¸Šå¼€å‘** - Hook ä¼šé˜»æ­¢
2. **ä¸€ä¸ªå¯¹è¯å®Œæˆæ•´ä¸ªæµç¨‹** - ä¸éœ€è¦è·¨å¯¹è¯çŠ¶æ€
3. **çº¯ git æ£€æµ‹** - ä¸éœ€è¦çŠ¶æ€æ–‡ä»¶

---

## æ‰§è¡Œæµç¨‹

```
/dev å¼€å§‹
    â”‚
    â–¼
Step 0: ä¾èµ–æ£€æŸ¥
    â”‚
    â–¼
Step 1: æ£€æŸ¥å½“å‰åˆ†æ”¯
    â”œâ”€ mainï¼Ÿ â†’ é€‰æ‹©/åˆ›å»º feature â†’ é‡æ–° Step 1
    â”œâ”€ feature/*ï¼Ÿ â†’ Step 2 åˆ›å»º cp-* â†’ Step 2.5 â†’ Step 3
    â””â”€ cp-*ï¼Ÿ â†’ è·³è¿‡ Step 2 â†’ ç›´æ¥ Step 3ï¼ˆç»§ç»­ä»»åŠ¡ï¼‰
    â”‚
    â–¼
Step 2-4: åˆ†æ”¯ â†’ ä¸Šä¸‹æ–‡ â†’ PRD/DoD â†’ å†™ä»£ç  â†’ è‡ªæµ‹
    â”‚
    â–¼
Step 5: ç‰ˆæœ¬å· â†’ commit â†’ push â†’ PR â†’ CI â†’ merge
    â”‚
    â–¼
Step 6: Cleanupï¼ˆä»… PR åˆå¹¶åï¼‰
    â”‚
    â–¼
Step 7: Learnï¼ˆå¯é€‰ï¼‰
    â”‚
    â–¼
å®Œæˆ ğŸ‰
```

---

## æ­¥éª¤æ‘˜è¦

| Step | è¯´æ˜ | è¯¦æƒ… |
|------|------|------|
| 0 | æ£€æŸ¥ gh/jq ä¾èµ–å’Œç™»å½•çŠ¶æ€ | â†’ [STEPS.md#step-0](references/STEPS.md#step-0-ä¾èµ–æ£€æŸ¥) |
| 1 | æ£€æµ‹ main/feature/cp-* åˆ†æ”¯ | â†’ [STEPS.md#step-1](references/STEPS.md#step-1-æ£€æŸ¥åˆ†æ”¯) |
| 2 | åˆ›å»º cp-{æ—¶é—´æˆ³}-{ä»»åŠ¡å} åˆ†æ”¯ | â†’ [STEPS.md#step-2](references/STEPS.md#step-2-åˆ›å»º-cp--åˆ†æ”¯) |
| 2.5 | å›é¡¾ CHANGELOG/PR/æ¶æ„/è¸©å‘ | â†’ [STEPS.md#step-25](references/STEPS.md#step-25-ä¸Šä¸‹æ–‡å›é¡¾) |
| 3 | ç”Ÿæˆ PRD + DoDï¼Œç­‰ç”¨æˆ·ç¡®è®¤ | â†’ [STEPS.md#step-3](references/STEPS.md#step-3-prd--dod) |
| 4 | å†™ä»£ç ï¼Œæ‰§è¡Œ DoD ä¸­çš„ TEST | â†’ [STEPS.md#step-4](references/STEPS.md#step-4-å†™ä»£ç --è‡ªæµ‹) |
| 5 | ä¼šè¯æ¢å¤æ£€æµ‹ + ç‰ˆæœ¬å· + PR + CI | â†’ [STEPS.md#step-5](references/STEPS.md#step-5-pr--ç­‰å¾…-ci) |
| 6 | æ¸…ç† config/åˆ†æ”¯/è¿œç¨‹ | â†’ [STEPS.md#step-6](references/STEPS.md#step-6-cleanup) |
| 7 | è®°å½• Engine/é¡¹ç›®ç»éªŒ | â†’ [STEPS.md#step-7](references/STEPS.md#step-7-åŒå±‚-learn) |

---

## å˜é‡è¯´æ˜

| å˜é‡ | æ¥æº | ç”¨é€” |
|------|------|------|
| `BRANCH` | `git rev-parse --abbrev-ref HEAD` | å½“å‰åˆ†æ”¯ |
| `FEATURE_BRANCH` | åˆ›å»º cp-* å‰è®°ä½ | PR base åˆ†æ”¯ |
| `BRANCH_NAME` | ç”Ÿæˆçš„ cp-* åç§° | å½“å‰ä»»åŠ¡åˆ†æ”¯ |
| `PR_URL` | `gh pr create` è¿”å› | æ£€æŸ¥ CI çŠ¶æ€ |

**ä¸éœ€è¦çŠ¶æ€æ–‡ä»¶** â€” æ‰€æœ‰ä¿¡æ¯ä» git å®æ—¶è·å–ã€‚

---

## æ¸è¿›å¼åŠ è½½

æœ¬ Skill é‡‡ç”¨æ¸è¿›å¼åŠ è½½æ¶æ„ï¼Œå‡å°‘ä¸Šä¸‹æ–‡å¼€é”€ï¼š

```
skills/dev/
â”œâ”€â”€ SKILL.md           â† ä½ åœ¨è¿™é‡Œï¼ˆæ ¸å¿ƒæŒ‡ä»¤ï¼‰
â”œâ”€â”€ references/
â”‚   â””â”€â”€ STEPS.md       â† è¯¦ç»†æ­¥éª¤ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰
â””â”€â”€ scripts/
    â””â”€â”€ check.sh       â† å®Œæˆåº¦æ£€æŸ¥
```

**åŠ è½½ç­–ç•¥**ï¼š
1. é¦–æ¬¡æ‰§è¡Œï¼šåªåŠ è½½ SKILL.mdï¼ˆæœ¬æ–‡ä»¶ï¼‰
2. éœ€è¦è¯¦æƒ…æ—¶ï¼šRead references/STEPS.md ä¸­ç›¸å…³ç« èŠ‚
3. å®Œæˆåï¼šè¿è¡Œ `bash scripts/check.sh` éªŒè¯

---

## å®Œæˆåº¦æ£€æŸ¥

**Cleanup å®Œæˆåè¿è¡Œ**ï¼š

```bash
bash skills/dev/scripts/check.sh "$BRANCH_NAME" "$FEATURE_BRANCH"
```

è„šæœ¬ä¼šè‡ªåŠ¨éªŒè¯æ¸…ç†é˜¶æ®µçš„æ‰€æœ‰æ£€æŸ¥é¡¹ï¼Œè¾“å‡ºç¼ºå¤±é¡¹çš„ä¿®å¤å‘½ä»¤ã€‚

---

## å¹¶è¡Œå¼€å‘

å¦‚éœ€åŒæ—¶åœ¨å¤šä¸ª feature ä¸Šå·¥ä½œï¼Œä½¿ç”¨ worktreeï¼š

```bash
git worktree add ../zenithjoy-engine-cecilia feature/cecilia
cd ../zenithjoy-engine-cecilia
# åœ¨æ–°ç›®å½•è¿è¡Œ /dev
```

è¯¦è§ â†’ [STEPS.md#å¹¶è¡Œå¼€å‘](references/STEPS.md#å¹¶è¡Œå¼€å‘worktree)
