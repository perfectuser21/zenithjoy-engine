---
id: prd-c5001-fix
version: 1.0.0
created: 2026-01-30
updated: 2026-01-30
changelog:
  - 1.0.0: 初始版本
---

# PRD: C5-001 RCI 循环依赖修复

## 背景

C5-001 RCI 在 release-check job 中运行时会调用 scripts/release-check.sh，
但该脚本本身就是 release-check job 的一部分（通过 run-regression.sh 调用），
造成循环依赖导致测试永远失败。

## 问题分析

1. CI release-check job → run-regression.sh release
2. run-regression.sh 运行 C5-001 RCI
3. C5-001 的 evidence 检查调用 scripts/release-check.sh
4. scripts/release-check.sh 期望输出 "Release 检查通过"
5. 但因为 C5-001 自己在失败，所以永远无法输出成功信息

## 修复方案

将 C5-001 的 trigger 从 [Release] 改为 [PR]，理由同 C8-001：
1. test job 已经验证了 release-check.sh 的功能
2. release-check 依赖 test job 通过（needs: [test]）
3. 重复检查没有意义且造成循环依赖

## 验收标准

- [x] C5-001 trigger 改为 [PR]
- [x] release-check CI 不再因 C5-001 失败
