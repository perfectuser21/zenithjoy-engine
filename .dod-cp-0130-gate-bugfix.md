---
id: dod-gate-bugfix
version: 1.0.0
created: 2026-01-30
updated: 2026-01-30
---

# DoD: Gate 签名机制 Bug 修复

## 验收清单

### Bug 修复

- [x] `generate-gate-file.sh`: secret 读取时去除换行符
  Test: manual:code-review

- [x] `generate-gate-file.sh`: 使用 jq 生成 JSON 防止特殊字符破坏
  Test: manual:code-review

- [x] `verify-gate-signature.sh`: secret 读取时去除换行符
  Test: manual:code-review

- [x] `verify-gate-signature.sh`: 处理 jq 返回的 "null" 字符串
  Test: manual:code-review

### 设计修复

- [x] `pr-gate-v2.sh`: Gate 检查失败时 exit 2 阻止 PR 创建
  Test: manual:code-review

- [x] CI: 添加 gate 文件检查到 DevGate checks
  Test: manual:code-review

## 质量参考

QA: docs/QA-DECISION-cp-0130-gate-bugfix.md
