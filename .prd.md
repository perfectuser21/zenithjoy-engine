# PRD - Fix Release PR CI Check

## 问题

Release PR (base=main) 在 CI 的 test job 中运行 L2A pr-mode 检查，要求 .prd.md 文件存在。但 release PR 不需要 PRD（它是多个已完成功能的打包发布）。

## 根本原因

`.github/workflows/ci.yml` 中的 L2A Check 步骤（line 170）条件为：
```yaml
if: steps.detect.outputs.type == 'npm'
```

这会对所有 npm 项目的 PR 运行 pr 模式检查，包括 release PR。

## 解决方案

修改条件为：
```yaml
if: steps.detect.outputs.type == 'npm' && github.base_ref != 'main'
```

这样 release PR (base_ref == 'main') 会跳过 test job 的 L2A pr-mode 检查，只运行 release-check job 的 L2A release-mode 检查。

## 验收标准

参见 .dod.md
