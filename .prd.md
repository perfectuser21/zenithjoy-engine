# PRD - 修复硬编码 develop 分支问题

**需求来源**: 深度扫描发现多处硬编码 "develop" 分支，导致 feature/* 分支工作流失效

## 问题描述

当前 `branch-protect.sh` 和 `pr-gate-v2.sh` 在检查 PRD/DoD 是否更新时，硬编码使用 `develop` 分支：

```bash
PRD_IN_BRANCH=$(git log develop..HEAD --name-only ...)
```

这导致在 `feature/*` 分支工作时，检查会失败。

## 功能描述

1. **branch-protect.sh** (行 176, 201)
   - 读取 `git config branch.$BRANCH.base-branch` 获取实际 base 分支
   - 如果未配置，fallback 到 `develop`

2. **pr-gate-v2.sh** (行 281, 331)
   - 同样逻辑，使用配置的 base 分支

3. **cleanup.sh** (行 18)
   - 从 git config 读取 base 分支，而不是只依赖参数

4. **pr-gate-v2.sh** (行 392-393)
   - checkbox 匹配改为大小写不敏感 `[xX]`

## 成功标准

- [ ] 在 feature/* 分支创建 cp-* 时，PRD/DoD 检查使用正确的 base 分支
- [ ] cleanup.sh 能自动检测 base 分支
- [ ] checkbox `[X]` 和 `[x]` 都能识别
- [ ] npm run qa 通过
